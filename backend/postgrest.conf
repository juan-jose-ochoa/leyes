# PostgREST Configuration Template for LeyesMX
# https://postgrest.org/en/stable/configuration.html
#
# NOTE: Do not use this file directly in development.
# The start.sh script generates postgrest.local.conf from .env variables.
# This file serves as documentation for production deployment.

# Database connection (use environment variables in production)
# db-uri = "postgres://user:password@host:port/database"
db-uri = "$(PGRST_DB_URI)"

# Schema to expose
db-schemas = "api"

# Anonymous role (for unauthenticated requests)
db-anon-role = "web_anon"

# Server settings
server-host = "127.0.0.1"
server-port = 3010

# Connection pool
db-pool = 10
db-pool-acquisition-timeout = 10

# OpenAPI documentation
openapi-mode = "follow-privileges"
openapi-server-proxy-uri = "http://localhost:3000"

# Logging
log-level = "info"

# CORS (handled by Nginx in production, but useful for dev)
# server-cors-allowed-origins = "*"

# JWT (for future authenticated endpoints)
# jwt-secret = "$(PGRST_JWT_SECRET)"
# jwt-aud = "leyesmx"

# Max rows returned
max-rows = 1000
